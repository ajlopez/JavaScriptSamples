<html>
<head>
<title>Canvas</title>
</head>
<body>
<h1>Canvas</h1>

<div>
<canvas id="mycanvas" width=1000 height=500 style="border:1px solid #d3d3d3;">
</canvas>
</div>

<script>
const canvas = document.getElementById('mycanvas');
const ctx = canvas.getContext('2d');
/*
ctx.beginPath();
ctx.fillStyle = "rgba(255,0,0,1)";
ctx.arc(90, 90, 40, 0, Math.PI * 2, true);
ctx.fill();
ctx.closePath();
*/
const image_data = ctx.getImageData(0, 0, canvas.width, canvas.height);

for (let k = 0; k < 100; k += 10)
    paintDot(k, k, 255, 0, 0, 200);
               
for (let k = 0; k < 100; k += 10)
    paintDot(k + 100, k + 100, 0, 128, 0, k * 2);

ctx.putImageData(image_data, 0, 0);

function paintDot(x, y, r, g, b, n) {
    const data = image_data.data;
    
    /*
    for (let dx = 0; dx < 100; dx++)
        for (let dy = 0; dy < 100; dy++) {
            const x2 = x + dx;
            const y2 = y + dy;
            
            const p = (canvas.width * y2 + x2) * 4;
            data[p] = 255;
            data[p + 3] = 255;
        }
    */
    for (let k = 0; k < n; k++) {
        const x2 = x + Math.floor(Math.random(10) * 20) - 10;
        const y2 = y + Math.floor(Math.random(10) * 20) - 10;
        
        const p = (canvas.width * y2 + x2) * 4;
        data[p] = r;
        data[p+1] = g;
        data[p+2] = b;
        data[p + 3] = 255;
    }
}

</script>
</body>
</html>
